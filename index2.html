<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Isael Requena ‚Äî Full‚ÄëStack</title>
  <meta name="description" content="Portafolio de Isael Requena, Full‚ÄëStack. Dark-first con animaci√≥n 3D con Three.js y efecto Liquid Glass." />

  <!-- Librer√≠a 3D -->
  <script src="https://unpkg.com/three@0.160.0/build/three.min.js" defer></script>

  <style>
    /* ----------------------------- */
    /* Tokens de tema                */
    /* ----------------------------- */
    :root {
      color-scheme: dark light;
      /* Dark-first */
      --bg: #070a0f;          /* M√ÅS OSCURO */
      --bg-elev: #0a1019;
      --text: #ecf3ff;
      --muted: #a1b6d8;
      --accent: #7cc0ff;
      --accent-2: #4ea1ff;
      --glass: rgba(14,20,32,.38); /* capa de vidrio */
      --glass-border: rgba(126,187,255,.35);
      --border: #152337;
      --shadow: 0 18px 60px rgba(0,0,0,.45);
    }
    /* Modo claro via toggle */
    #theme-toggle:checked ~ .page {
      --bg: #f7f9fc; --bg-elev:#ffffff; --text:#0b1220; --muted:#4b5a74;
      --accent:#2563eb; --accent-2:#1640b5; --glass: rgba(255,255,255,.45); --glass-border: rgba(36,99,235,.25); --border:#e6eaf3; color-scheme: light dark;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:500 16px/1.6 Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica Neue,Arial}
    a{color:var(--accent);text-decoration:none}
    a:hover{text-decoration:underline}

    /* ----------------------------- */
    /* Switch de tema (sin JS)       */
    /* ----------------------------- */
    #theme-toggle{display:none}
    .theme-switch{position:fixed;z-index:60;inset:18px auto auto 18px;display:grid;place-items:center;width:50px;height:50px;border:1px solid var(--border);border-radius:999px;background:linear-gradient(180deg,var(--bg-elev),rgba(255,255,255,.02));box-shadow:var(--shadow);backdrop-filter:blur(14px) saturate(130%)}
    .theme-switch span{font-size:20px;transition:transform .4s ease}
    #theme-toggle:checked + label.theme-switch span{transform:rotate(180deg)}

    /* ----------------------------- */
    /* Fondo tecnol√≥gico             */
    /* ----------------------------- */
    /* Canvas Three.js fijo al fondo */
    #bg3d{position:fixed;inset:0;z-index:-3;background:#05070b}

    /* Manchas/luz azul en capas con distinta opacidad */
    .blue-blobs{position:fixed;inset:-15vmax;z-index:-2;pointer-events:none;filter:saturate(120%) blur(1px);opacity:.95;background:
      radial-gradient(70vmax 70vmax at 20% 15%, rgba(90,170,255,.25), transparent 55%),
      radial-gradient(60vmax 60vmax at 85% 12%, rgba(60,150,255,.18), transparent 55%),
      radial-gradient(55vmax 55vmax at 75% 78%, rgba(40,130,255,.22), transparent 55%),
      radial-gradient(50vmax 50vmax at 30% 86%, rgba(120,190,255,.12), transparent 55%),
      radial-gradient(120vmax 120vmax at 50% 50%, rgba(14,24,44,.65), transparent 60%);
      animation: blobsFloat 26s ease-in-out infinite alternate;
    }
    @keyframes blobsFloat{0%{transform:translate3d(0,-2%,0) scale(1.02)}100%{transform:translate3d(0,2%,0) scale(1.04)}}

    /* Ret√≠cula muy sutil (menos visible) */
    .grid-overlay{position:fixed;inset:0;z-index:-1;pointer-events:none;background-image:
      linear-gradient(transparent 96%, rgba(124,192,255,.06) 96%),
      linear-gradient(90deg, transparent 96%, rgba(124,192,255,.06) 96%);
      background-size:28px 28px,28px 28px;opacity:.25;mask-image:radial-gradient(70vmax 70vmax at 50% 50%, black 40%, transparent 100%);animation:gridDrift 28s linear infinite}
    @keyframes gridDrift{from{transform:translateY(0)}to{transform:translateY(-28px)}}

    /* ----------------------------- */
    /* Liquid Glass utilitario       */
    /* ----------------------------- */
    .glass{position:relative;background:var(--glass);border:1px solid var(--glass-border);backdrop-filter:blur(24px) saturate(160%);-webkit-backdrop-filter:blur(24px) saturate(160%);border-radius:20px;box-shadow:0 8px 40px rgba(0,0,0,.35)}
    /* brillo fluido animado */
    .glass::after{content:"";position:absolute;inset:-2px;border-radius:inherit;background:conic-gradient(from 0deg at 50% 50%,rgba(124,192,255,.0),rgba(124,192,255,.25),rgba(124,192,255,.0) 30%);filter:blur(10px);opacity:.7;mix-blend-mode:screen;animation:liquid 6s linear infinite}
    @keyframes liquid{to{transform:rotate(360deg)}}

    .container{width:min(1120px,92vw);margin-inline:auto}

    /* Header: transparente arriba ‚Üí glass al hacer scroll */
    header.nav{position:sticky;top:0;z-index:40;border-bottom:1px solid transparent;transition:all .35s ease}
    header.nav .nav-inner{display:flex;align-items:center;justify-content:space-between;padding:12px 8px}
    header.nav.scrolled{border-color:var(--border)}
    header.nav.scrolled .bar{background:var(--glass);backdrop-filter:blur(14px) saturate(140%);-webkit-backdrop-filter:blur(14px) saturate(140%);border:1px solid var(--glass-border)}
    .bar{border-radius:16px;padding:10px 14px;transition:inherit}

    .brand{display:flex;gap:10px;align-items:center;font-weight:800;letter-spacing:.3px}
    .brand .dot{width:10px;height:10px;border-radius:999px;background:var(--accent);box-shadow:0 0 20px var(--accent)}
    .nav-links{display:flex;gap:12px}
    .chip{padding:6px 12px;border-radius:999px;border:1px solid var(--border)}

    /* Hero */
    .hero{padding:clamp(72px,9vw,120px) 0 64px}
    .hero-grid{display:grid;grid-template-columns:1.1fr .9fr;gap:42px;align-items:center}
    @media (max-width:920px){.hero-grid{grid-template-columns:1fr}}
    .headline{font-size:clamp(34px,5vw,62px);line-height:1.05;font-weight:900}
    .grad{background:linear-gradient(90deg,var(--accent),var(--accent-2));-webkit-background-clip:text;background-clip:text;color:transparent}
    .sub{color:var(--muted);max-width:60ch;margin-top:14px}

    .cta-row{display:flex;gap:14px;margin-top:26px;flex-wrap:wrap}
    .btn{padding:14px 18px;border-radius:14px;border:1px solid var(--border);background:linear-gradient(180deg,var(--bg-elev),rgba(255,255,255,.02));box-shadow:var(--shadow);font-weight:700}
    .btn.primary{background:linear-gradient(180deg, color-mix(in oklab,var(--accent) 45%, transparent), color-mix(in oklab,var(--accent-2) 30%, transparent));border-color:color-mix(in oklab,var(--accent) 50%, var(--border))}

    /* Perfil con slider (contenedor vidrio) */
    .profile-card{padding:12px;border-radius:22px;transform:rotateX(8deg) rotateY(-6deg);transform-origin:70% 30%}
    .profile-card .viewport{position:relative;border-radius:18px;overflow:hidden;aspect-ratio:4/5}
    .profile-card img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:0;transition:opacity 1s ease}
    .profile-card img.active{opacity:1}
    .tag{position:absolute;right:16px;bottom:16px;padding:6px 10px;font-size:12px;border-radius:999px;background:color-mix(in oklab,var(--accent) 25%, var(--bg));border:1px solid var(--border)}

    /* Secciones */
    section{padding:88px 0}
    .section-title{font-size:clamp(22px,3.2vw,34px);margin-bottom:18px}
    .prose{color:var(--muted);max-width:70ch}

    /* Grid de proyectos */
    .grid{display:grid;grid-template-columns:repeat(12,1fr);gap:18px}
    .card{grid-column:span 4;min-height:240px;padding:18px;position:relative;overflow:clip}
    .card h3{margin:6px 0 8px}
    .card p{color:var(--muted)}
    .card .thumb{position:absolute;right:10px;bottom:10px;width:min(46%,280px);opacity:.9;border-radius:10px;mix-blend-mode:screen;filter:drop-shadow(0 8px 24px rgba(124,192,255,.35))}
    @media (max-width:980px){.card{grid-column:span 6}}
    @media (max-width:620px){.card{grid-column:span 12}}

    /* Galer√≠a discreta */
    .gallery{display:grid;grid-template-columns:repeat(12,1fr);gap:14px;margin-top:24px}
    .gallery figure{grid-column:span 4;margin:0;border-radius:16px;overflow:clip}
    .gallery img{width:100%;display:block;object-fit:cover;aspect-ratio:16/10}
    @media (max-width:980px){.gallery figure{grid-column:span 6}}
    @media (max-width:620px){.gallery figure{grid-column:span 12}}

    /* Scroll reveal (CSS) */
    @keyframes reveal{from{opacity:0;transform:translateY(22px)}to{opacity:1;transform:translateY(0)}}
    .reveal{opacity:0;animation:reveal both ease-out;animation-timeline:view(block);animation-range:entry 20% cover 30%}

    /* Modal glass */
    .modal-backdrop{position:fixed;inset:0;display:none;place-items:center;background:rgba(5,8,13,.35);backdrop-filter:blur(2px);z-index:80}
    .modal-backdrop.show{display:grid}
    .modal{width:min(680px,92vw);padding:24px}

    footer{padding:40px 0 80px;color:var(--muted);border-top:1px solid var(--border);margin-top:80px}

    /* Sub‚Äërayado animado */
    @keyframes underline{from{background-size:0% 2px}to{background-size:100% 2px}}
    .underline{background:linear-gradient(90deg,var(--accent),var(--accent-2)) no-repeat left bottom/0% 2px;padding-bottom:4px;animation:underline both ease-out;animation-timeline:view(block);animation-range:entry 15% cover 20%}
  </style>
</head>
<body>
  <canvas id="bg3d" aria-hidden="true"></canvas>
  <div class="blue-blobs" aria-hidden="true"></div>
  <div class="grid-overlay" aria-hidden="true"></div>

  <input id="theme-toggle" type="checkbox" aria-label="Cambiar tema" />
  <label class="theme-switch" for="theme-toggle" title="Cambiar tema"><span>‚òÄÔ∏è/üåô</span></label>

  <main class="page">
    <header class="nav" id="topNav">
      <div class="container bar">
        <div class="nav-inner">
          <div class="brand"><span class="dot"></span><span>Isael Requena</span></div>
          <nav class="nav-links">
            <a class="chip" href="#sobre">Sobre m√≠</a>
            <a class="chip" href="#proyectos">Proyectos</a>
            <a class="chip" href="#galeria">Galer√≠a</a>
            <a class="chip" href="#contacto">Contacto</a>
          </nav>
        </div>
      </div>
    </header>

    <section class="hero">
      <div class="container hero-grid">
        <div>
          <h1 class="headline reveal">Hola, soy <span class="grad">Isael Requena</span> ‚Äî <span class="grad">Full‚ÄëStack Developer</span></h1>
          <p class="sub reveal" style="animation-delay:.1s">Portafolio dark‚Äëfirst con **manchas azules** m√°s marcadas, ret√≠cula sutil, animaci√≥n 3D al scrollear y componentes con <strong>Liquid Glass</strong>.</p>
          <div class="cta-row reveal" style="animation-delay:.18s">
            <a class="btn primary" href="#proyectos">Ver proyectos</a>
            <button class="btn" id="openModal" type="button">Abrir modal</button>
          </div>
        </div>
        <aside class="profile-card glass reveal" style="animation-delay:.15s">
          <div class="viewport" id="profileSlider">
            <img src="assets/images/profile-photo.png" alt="Isael ‚Äî perfil" class="active"/>
            <img src="assets/images/photo-isael-1.jpg" alt="Isael con laptop"/>
            <img src="assets/images/photo-technology-on-an-event.png" alt="Evento tech"/>
            <img src="assets/images/photo-programming-machines.jpg" alt="Setup de trabajo"/>
            <span class="tag">Disponible ¬∑ Remoto / H√≠brido</span>
          </div>
        </aside>
      </div>
    </section>

    <section id="sobre" class="reveal">
      <div class="container">
        <h2 class="section-title underline">Sobre m√≠</h2>
        <p class="prose">Desarrollador full‚Äëstack orientado a experiencias modernas y fluidas. Este sitio usa Three.js para un fondo din√°mico que reacciona al scroll y un sistema de Liquid Glass que aporta profundidad sin perder legibilidad.</p>
      </div>
    </section>

    <section id="proyectos" class="reveal">
      <div class="container">
        <h2 class="section-title underline">Proyectos destacados</h2>
        <div class="grid" style="margin-top:18px">
          <article class="card glass">
            <h3>Dashboard en tiempo real</h3>
            <p>Tarjetas con vidrio l√≠quido y foco en densidad de datos.</p>
            <img class="thumb" src="photo-programming-machines.jpg" alt="Pantallas de c√≥digo" />
          </article>
          <article class="card glass">
            <h3>Experiencia inmersiva</h3>
            <p>Capas y parallax asistido por Three.js + CSS.</p>
            <img class="thumb" src="photo-technology-on-an-event.png" alt="Ambiente inmersivo" />
          </article>
          <article class="card glass">
            <h3>Portal corporativo</h3>
            <p>Tokens de dise√±o, temas y accesibilidad.</p>
            <img class="thumb" src="photo-isael-1.jpg" alt="Retrato" />
          </article>
        </div>
      </div>
    </section>

    <section id="galeria" class="reveal">
      <div class="container">
        <h2 class="section-title underline">Galer√≠a (discreta)</h2>
        <div class="gallery">
          <figure class="glass"><img src="assets/images/photo-isael-1.jpg" alt="Isael con laptop" /><figcaption style="padding:8px 10px;color:var(--muted)">Detr√°s de escena</figcaption></figure>
          <figure class="glass"><img src="assets/images/photo-programming-machines.jpg" alt="Escritorio" /><figcaption style="padding:8px 10px;color:var(--muted)">Stack de trabajo</figcaption></figure>
          <figure class="glass"><img src="assets/images/photo-technology-on-an-event.png" alt="Evento" /><figcaption style="padding:8px 10px;color:var(--muted)">Experiencia inmersiva</figcaption></figure>
        </div>
      </div>
    </section>

    <section id="contacto" class="reveal">
      <div class="container">
        <h2 class="section-title underline">Contacto</h2>
        <p class="prose">¬øColaboramos? <a href="#">isael@example.com</a></p>
      </div>
    </section>

    <footer>
      <div class="container">¬© <span id="y">2025</span> Isael Requena ‚Äî Full‚ÄëStack. Liquid Glass + Three.js.</div>
    </footer>
  </main>

  <!-- Modal Liquid Glass -->
  <div class="modal-backdrop" id="modal">
    <div class="modal glass">
      <h3 style="margin-top:0">Hola üëã</h3>
      <p class="prose">Este es un modal con <strong>Liquid Glass</strong> (blur + borde luminoso animado). Puedes usarlo para mensajes, formularios o vista de proyecto.</p>
      <div style="margin-top:16px;display:flex;gap:10px;justify-content:flex-end">
        <button class="btn" id="closeModal" type="button">Cerrar</button>
        <a class="btn primary" href="#proyectos">Ir a proyectos</a>
      </div>
    </div>
  </div>

  <script>
    // ------------------------------
    // Header: transparente -> glass
    // ------------------------------
    const nav = document.getElementById('topNav');
    const onScroll = () => {
      if (window.scrollY > 6) nav.classList.add('scrolled');
      else nav.classList.remove('scrolled');
    };
    document.addEventListener('scroll', onScroll, { passive: true });
    onScroll();

    // ------------------------------
    // Modal Liquid Glass
    // ------------------------------
    const modal = document.getElementById('modal');
    document.getElementById('openModal').onclick = () => modal.classList.add('show');
    document.getElementById('closeModal').onclick = () => modal.classList.remove('show');
    modal.addEventListener('click', (e)=>{ if(e.target===modal) modal.classList.remove('show'); });

    // ------------------------------
    // Slider de fotos en la tarjeta
    // ------------------------------
    const slider = document.getElementById('profileSlider');
    const imgs = [...slider.querySelectorAll('img')];
    let idx = 0;
    setInterval(()=>{
      imgs[idx].classList.remove('active');
      idx = (idx + 1) % imgs.length;
      imgs[idx].classList.add('active');
    }, 3500);

    // ------------------------------
    // Three.js fondo tecnol√≥gico
    // ------------------------------
    window.addEventListener('DOMContentLoaded', () => {
      const canvas = document.getElementById('bg3d');
      const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
      renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

      const scene = new THREE.Scene();
      const camera = new THREE.PerspectiveCamera(55, 1, 0.1, 2000);
      camera.position.set(0, 0, 110);

      // Part√≠culas azules (nube tecnol√≥gica)
      const geo = new THREE.BufferGeometry();
      const COUNT = 1800;
      const positions = new Float32Array(COUNT * 3);
      for (let i = 0; i < COUNT; i++) {
        const r = 120 * Math.random();
        const a = Math.random() * Math.PI * 2;
        const b = (Math.random() - .5) * Math.PI;
        positions[i*3+0] = r * Math.cos(a) * Math.cos(b);
        positions[i*3+1] = r * Math.sin(b) * 0.6; // elipsoide
        positions[i*3+2] = r * Math.sin(a) * Math.cos(b);
      }
      geo.setAttribute('position', new THREE.BufferAttribute(positions, 3));
      const mat = new THREE.PointsMaterial({ size: 1.2, color: 0x78B8FF, transparent: true, opacity: 0.55 });
      const points = new THREE.Points(geo, mat);
      scene.add(points);

      // Resize
      function resize(){
        const w = window.innerWidth, h = window.innerHeight;
        renderer.setSize(w, h, false); camera.aspect = w/h; camera.updateProjectionMatrix();
      }
      window.addEventListener('resize', resize); resize();

      // Animaci√≥n dependiente de scroll
      let targetRotX = 0, targetRotY = 0;
      const updateFromScroll = () => {
        const p = window.scrollY / (document.body.scrollHeight - window.innerHeight);
        targetRotX = p * Math.PI * 0.6;         // gira con el scroll
        targetRotY = p * Math.PI * 1.0;
      };
      document.addEventListener('scroll', updateFromScroll, { passive: true });
      updateFromScroll();

      function tick(){
        // suavizado
        points.rotation.x += (targetRotX - points.rotation.x) * 0.05;
        points.rotation.y += (targetRotY - points.rotation.y) * 0.05;
        renderer.render(scene, camera);
        requestAnimationFrame(tick);
      }
      tick();
    });
  </script>
</body>
</html>